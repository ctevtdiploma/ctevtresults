<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML to PDF Converter</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
</head>
<body>
    <h1>HTML to PDF Converter</h1>
    <form id="urlForm">
        <label for="prefix">Select Prefix:</label>
        <select id="prefix" name="prefix">
            <!-- Options here -->
            <option value="https://itms.ctevt.org.np/download-to-pdf/2072">2072</option>
            <option value="https://itms.ctevt.org.np/download-to-pdf/2073">2073</option>
            <option value="https://itms.ctevt.org.np/download-to-pdf/2074">2074</option>
            <option value="https://itms.ctevt.org.np/download-to-pdf/2075">2075</option>
            <option value="https://itms.ctevt.org.np/download-to-pdf/2075">2075</option>
            <option value="https://itms.ctevt.org.np/download-to-pdf/2076">2076</option>
            <option value="https://itms.ctevt.org.np/download-to-pdf/2077">2077</option>
            <option value="https://itms.ctevt.org.np/download-to-pdf/2078">2078</option>
            <option value="https://itms.ctevt.org.np/download-to-pdf/2079">2079</option>
            <option value="https://itms.ctevt.org.np/download-to-pdf/2080">2080</option>
        </select>
        <label for="additionalPrefix">Select Additional Prefix:</label>
        <select id="additionalPrefix" name="additionalPrefix">
            <!-- Options here -->
            <option value="3">PCL/Diploma</option>
            <option value="2">Pre-Diploma</option>
        </select>
        <label for="segment1">Symbol no</label>
        <input type="text" id="segment1" name="segment1" placeholder="Enter segment 1">
        <label for="segment2">DOB</label>
        <input type="text" id="segment2" name="segment2" placeholder="Enter segment 2">
        <button type="submit">Convert to PDF and Download</button>
    </form>
    <script>
        document.getElementById("urlForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent the form from submitting normally

            const prefix = document.getElementById("prefix").value;
            const additionalPrefix = document.getElementById("additionalPrefix").value;
            const segment1 = document.getElementById("segment1").value;
            const segment2 = document.getElementById("segment2").value;

            // Combine the segments with the selected prefixes to form the new URL
            const newURL = `${prefix}/${additionalPrefix}/${segment1}/${segment2}`;

            // Use html2pdf to convert the input content to a PDF
            const pdfOptions = {
                margin: 10,
                filename: 'downloaded_file.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };

            const contentToConvert = `<h2>Your PDF Content</h2><p>${newURL}</p>`;

            html2pdf().from(contentToConvert).set(pdfOptions).outputPdf(pdf => {
                // Manually download the PDF
                const blob = new Blob([pdf], { type: "application/pdf" });
                const url = URL.createObjectURL(blob);
                const a = document.createElement("a");
                a.style.display = "none";
                a.href = url;
                a.download = 'downloaded_file.pdf';
                document.body.appendChild(a);
                a.click();
                window.URL.revokeObjectURL(url);
            });
        });
    </script>
</body>
</html>
